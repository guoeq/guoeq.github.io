<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Ryan&#39;s Blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://ryan_qian.coding.me/"/>
  <updated>2016-07-13T07:09:59.000Z</updated>
  <id>http://ryan_qian.coding.me/</id>
  
  <author>
    <name>Ryan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>java Web 项目获得文件的绝对路径</title>
    <link href="http://ryan_qian.coding.me/2016/07/13/java-Web-%E9%A1%B9%E7%9B%AE%E8%8E%B7%E5%BE%97%E6%96%87%E4%BB%B6%E7%9A%84%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84/"/>
    <id>http://ryan_qian.coding.me/2016/07/13/java-Web-项目获得文件的绝对路径/</id>
    <published>2016-07-13T05:49:54.000Z</published>
    <updated>2016-07-13T07:09:59.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;文件在项目中的路径&quot;&gt;&lt;a href=&quot;#文件在项目中的路径&quot; class=&quot;headerlink&quot; title=&quot;文件在项目中的路径&quot;&gt;&lt;/a&gt;文件在项目中的路径&lt;/h2&gt;&lt;h3 id=&quot;maven-项目&quot;&gt;&lt;a href=&quot;#maven-项目&quot; class=&quot;headerlink&quot; title=&quot;maven 项目&quot;&gt;&lt;/a&gt;maven 项目&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://o9xvdfsp1.bkt.clouddn.com/C145FFDA-021B-4CB6-8F08-46FAB9405B84.png&quot; alt=&quot;maven project&quot;&gt;&lt;/p&gt;
&lt;p&gt;如上图，maven项目的资源文件一般是放在src/main/resources目录下。&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;一般的web项目&quot;&gt;&lt;a href=&quot;#一般的web项目&quot; class=&quot;headerlink&quot; title=&quot;一般的web项目&quot;&gt;&lt;/a&gt;一般的web项目&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://o9xvdfsp1.bkt.clouddn.com/QQ20160713-1@2x.png&quot; alt=&quot;web project&quot;&gt;&lt;/p&gt;
&lt;p&gt;对于一般的web项目的资源文件一般是放在WEB-INF目录下。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://o9xvdfsp1.bkt.clouddn.com/package.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;br&gt;对于以上两种类型的web项目，其资源文件打包以后的路径是一致的，所以获取资源路径的方式也是一致的。&lt;/p&gt;
&lt;h2 id=&quot;如何获取资源文件的路径&quot;&gt;&lt;a href=&quot;#如何获取资源文件的路径&quot; class=&quot;headerlink&quot; title=&quot;如何获取资源文件的路径&quot;&gt;&lt;/a&gt;如何获取资源文件的路径&lt;/h2&gt;&lt;h3 id=&quot;配置文件中加载资源文件&quot;&gt;&lt;a href=&quot;#配置文件中加载资源文件&quot; class=&quot;headerlink&quot; title=&quot;配置文件中加载资源文件&quot;&gt;&lt;/a&gt;配置文件中加载资源文件&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;&amp;lt;context-param&amp;gt;
    &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;
    &amp;lt;param-value&amp;gt;classpath:applicationContext/applicationContext.xml&amp;lt;/param-value&amp;gt;
&amp;lt;/context-param&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;就像在web.xml 文件中加在spring的配置文件时，只需要将资源文件的路径前面加上“classpath: “ 即可，“classpath:“ 后面的文件的路径是相对于src/main/resources  或者 WEB-INF  目录的&lt;/p&gt;
&lt;h3 id=&quot;java类文件中获取资源文件的路径&quot;&gt;&lt;a href=&quot;#java类文件中获取资源文件的路径&quot; class=&quot;headerlink&quot; title=&quot;java类文件中获取资源文件的路径&quot;&gt;&lt;/a&gt;java类文件中获取资源文件的路径&lt;/h3&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; java.io.File;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  web项目打包以后classes文件在磁盘中的绝对路径&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * Created by guoenqian on 16/7/13. email:guoeq@jiedaibao.com&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;WebPathUtil&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;getWebPath&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        String webPath = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        File classesFile = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; File(WebPathUtil.class.getClassLoader().getResource(&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;).getPath());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        webPath = classesFile.getParent() + File.separator + &lt;span class=&quot;string&quot;&gt;&quot;classes&quot;&lt;/span&gt; + File.separator;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; webPath;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;此方法获得web项目打包以后classes文件在磁盘中的绝对路径&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;总结：我们获得资源文件的路径的原理就是把资源文件的项目路径转化为磁盘的绝对路径，这样拿到文件的路径才是唯一并且正确的。&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文件在项目中的路径&quot;&gt;&lt;a href=&quot;#文件在项目中的路径&quot; class=&quot;headerlink&quot; title=&quot;文件在项目中的路径&quot;&gt;&lt;/a&gt;文件在项目中的路径&lt;/h2&gt;&lt;h3 id=&quot;maven-项目&quot;&gt;&lt;a href=&quot;#maven-项目&quot; class=&quot;headerlink&quot; title=&quot;maven 项目&quot;&gt;&lt;/a&gt;maven 项目&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://o9xvdfsp1.bkt.clouddn.com/C145FFDA-021B-4CB6-8F08-46FAB9405B84.png&quot; alt=&quot;maven project&quot;&gt;&lt;/p&gt;
&lt;p&gt;如上图，maven项目的资源文件一般是放在src/main/resources目录下。&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>java如何实现时间的加减</title>
    <link href="http://ryan_qian.coding.me/2016/07/08/java%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%97%B6%E9%97%B4%E7%9A%84%E5%8A%A0%E5%87%8F/"/>
    <id>http://ryan_qian.coding.me/2016/07/08/java如何实现时间的加减/</id>
    <published>2016-07-08T07:05:00.000Z</published>
    <updated>2016-07-11T11:38:56.000Z</updated>
    
    <content type="html">&lt;p&gt;话不多说,直接上代码&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; java.text.SimpleDateFormat;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; java.util.Calendar;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; java.util.Date;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Test&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String[] args)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; Exception &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		SimpleDateFormat sdf = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SimpleDateFormat(&lt;span class=&quot;string&quot;&gt;&quot;yyyy-mm-dd&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		String str = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SimpleDateFormat(&lt;span class=&quot;string&quot;&gt;&quot;yyyy-mm-dd&quot;&lt;/span&gt;).format(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Date());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		Date dt = sdf.parse(str);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		Calendar rightNow = Calendar.getInstance();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		rightNow.setTime(dt);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		rightNow.add(Calendar.YEAR, -&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;// 日期减1年&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		rightNow.add(Calendar.MONTH, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;// 日期加3个月&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		rightNow.add(Calendar.DAY_OF_YEAR, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;// 日期加10天&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		Date dt1 = rightNow.getTime();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		String reStr = sdf.format(dt1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		System.out.println(reStr);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;话不多说,直接上代码&lt;br&gt;
    
    </summary>
    
      <category term="编程" scheme="http://ryan_qian.coding.me/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="Java" scheme="http://ryan_qian.coding.me/tags/Java/"/>
    
      <category term="时间加减" scheme="http://ryan_qian.coding.me/tags/%E6%97%B6%E9%97%B4%E5%8A%A0%E5%87%8F/"/>
    
  </entry>
  
  <entry>
    <title>分页模型的分析</title>
    <link href="http://ryan_qian.coding.me/2016/07/08/%E5%88%86%E9%A1%B5%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%88%86%E6%9E%90/"/>
    <id>http://ryan_qian.coding.me/2016/07/08/分页模型的分析/</id>
    <published>2016-07-08T07:02:00.000Z</published>
    <updated>2016-07-11T11:39:29.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;Why-Page&quot;&gt;&lt;a href=&quot;#Why-Page&quot; class=&quot;headerlink&quot; title=&quot;Why Page?&quot;&gt;&lt;/a&gt;Why Page?&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;我们为什么要做分页？
1.前台页面有限，我们无法将所有的数据一次性显示。
2.数据库中的数据太多，一次性查询时间较长，影响性能。
&lt;/code&gt;&lt;/pre&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;What-we-want&quot;&gt;&lt;a href=&quot;#What-we-want&quot; class=&quot;headerlink&quot; title=&quot;What we want?&quot;&gt;&lt;/a&gt;What we want?&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150825175639518&quot; alt=&quot;页数少的分页&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150825175838214&quot; alt=&quot;一到十分页&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150825175903087&quot; alt=&quot;n1,n1+10分页&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;分析模型&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;是不是和你想的一样呢？做成这个东东我们需要哪些条件呢？
1.我们需要定义一页显示多少条数据，在这里定义为pageSize。
2.我们需要知道要显示第几页的数据，在这里定义为pageNumber。
3.我们需要定义显示页数范围的大小，在这里定义为rangeSize。
    （上图中rangeSize为10）
4.我们需要动态的得到具体显示页数的值，在这里定义为  List&amp;lt;Integer&amp;gt;  pages&amp;lt;Integer&amp;gt;。
    （图一为1-4，图二为1-10，图三为5-14）
5.如何得到pages&amp;lt;Integer&amp;gt;？细想一下，我们只需要知道开始页和结束页，然后将他们范围内的数进行遍历就可以了对吧。
6.开始页如何得到？（开始页：pageStart）
    最容易的就是图三，pageStart=pageNumber-rangeSize/2;
    还算容易的就是图一，那就是1。
    其实图二也很容易，也是1嘛。原因就是pageNumber&amp;lt;rangeSize/2;
    发现一个规律，(pageNubmer&amp;lt;rangeSize/2)?(pageStart=1):(pageStart=pageNumber-rangSize/2)
    用一种简单的方式表示就是pageStart=Max(0,(pageNumber-rangeSize/2))
7.结束页如何得到?(结束页：pageEnd,数据的总条数count)
    还是图三比较容易，pageEnd3=pageNumber+rangeSize/2-1;
    这次图二也比较明显，pageEnd2=rangeSize;
    图一也挺容易，pageEnd1=count/pageSize;
    分析一下这三者的关系，pageEnd2与pageEnd3取其大，pageEnd1与pageEnd2和pageEnd3，取其小。
    所以，
    pageEnd=min(pageEnd1,max(pageEnd3,pageEnd2))
    也就是        pageEnd=min(count/pageSize,max(pageNumber+rangeSize/2-1,count/pageSize))
8.从7点我们可以看出我们来需要得到总的数据条数count；
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;How&quot;&gt;&lt;a href=&quot;#How&quot; class=&quot;headerlink&quot; title=&quot;How&quot;&gt;&lt;/a&gt;How&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Integer rangeSize=&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Integer pageSize=&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 计算连续显示页的起始页码&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getPageNumberStart&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Integer pageNumber)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; Math.max(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, pageNumber - rangeSize / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 计算连续显示页的结束页码&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getPageNumberEnd&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Integer pageNumber,Integer count)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; Math.min(Math.max(pageNumber + rangeSize / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,rangeSize),count/pageSize);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 获得连续显示页的页码&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;Integer&amp;gt; &lt;span class=&quot;title&quot;&gt;getPages&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Integer pageNumber,Integer count)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	Integer startPage = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getPageNumberStart(pageNumber);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	Integer endPage = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getPageNumberEnd(pageNumber,count);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	List&amp;lt;Integer&amp;gt; pages = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;Integer&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = startPage + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;; i &amp;lt;= endPage + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		pages.add(i);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; pages;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code&gt;此外就是页面数据的查询，根据不同的数据库有不同的查询方式，但是最好使用一种通用的不区别数据的接口。
JPA提供的接口是十分方便的，几乎不需要我们做工作，只需要套用JPA的接口就可以了。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;详细请看JPA的文档。&lt;br&gt;&lt;a href=&quot;http://docs.spring.io/spring-data/jpa/docs/1.8.2.RELEASE/reference/html/%20JPA%E6%96%87%E6%A1%A3&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;JPA官方文档&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Why-Page&quot;&gt;&lt;a href=&quot;#Why-Page&quot; class=&quot;headerlink&quot; title=&quot;Why Page?&quot;&gt;&lt;/a&gt;Why Page?&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;我们为什么要做分页？
1.前台页面有限，我们无法将所有的数据一次性显示。
2.数据库中的数据太多，一次性查询时间较长，影响性能。
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
      <category term="编程" scheme="http://ryan_qian.coding.me/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="Java" scheme="http://ryan_qian.coding.me/tags/Java/"/>
    
      <category term="分页" scheme="http://ryan_qian.coding.me/tags/%E5%88%86%E9%A1%B5/"/>
    
  </entry>
  
  <entry>
    <title>Java并发编程之ConcurrentHashMap</title>
    <link href="http://ryan_qian.coding.me/2016/07/07/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E4%B9%8BConcurrentHashMap/"/>
    <id>http://ryan_qian.coding.me/2016/07/07/Java并发编程之ConcurrentHashMap/</id>
    <published>2016-07-07T07:59:00.000Z</published>
    <updated>2016-07-08T07:14:10.000Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
      <category term="编程" scheme="http://ryan_qian.coding.me/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="Java" scheme="http://ryan_qian.coding.me/tags/Java/"/>
    
      <category term="并发编程" scheme="http://ryan_qian.coding.me/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>MySql开发规范</title>
    <link href="http://ryan_qian.coding.me/2016/07/07/MySql%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/"/>
    <id>http://ryan_qian.coding.me/2016/07/07/MySql开发规范/</id>
    <published>2016-07-07T06:13:00.000Z</published>
    <updated>2016-07-11T11:39:34.000Z</updated>
    
    <content type="html">&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;figure class=&quot;swipe&quot;&gt;&lt;iframe src=&quot;https://www.swipe.to/embed/6724r&quot; allowfullscreen&gt;&lt;/iframe&gt;&lt;/figure&gt;&lt;style&gt;figure.swipe{display:block;position:relative;padding-bottom:56.25%;height:0;overflow:hidden;}figure.swipe iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:none;}&lt;/style&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;figure class=&quot;swipe&quot;&gt;&lt;iframe src=&quot;https://www.swipe.to/embed/6724r&quot; allowfullscreen&gt;&lt;/iframe&gt;&lt;/figure&gt;&lt;style&gt;figure.sw
    
    </summary>
    
      <category term="编程" scheme="http://ryan_qian.coding.me/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="Mysql" scheme="http://ryan_qian.coding.me/tags/Mysql/"/>
    
      <category term="开发规范" scheme="http://ryan_qian.coding.me/tags/%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/"/>
    
  </entry>
  
  <entry>
    <title>jenkins一键部署快照</title>
    <link href="http://ryan_qian.coding.me/2016/07/05/jenkins%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2%E5%BF%AB%E7%85%A7/"/>
    <id>http://ryan_qian.coding.me/2016/07/05/jenkins一键部署快照/</id>
    <published>2016-07-05T09:03:00.000Z</published>
    <updated>2016-07-11T11:39:24.000Z</updated>
    
    <content type="html">&lt;p&gt;在很久很久以前，就有人说到一键部署？什么？一键部署？什么鬼？听着好牛逼的样子，我也搞一搞，经过一段时间的折腾终于搞出来了，最后，我只想说，效率真高。&lt;/p&gt;
&lt;h2 id=&quot;&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; title=&quot;&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h4 id=&quot;准备工作&quot;&gt;&lt;a href=&quot;#准备工作&quot; class=&quot;headerlink&quot; title=&quot;准备工作&quot;&gt;&lt;/a&gt;准备工作&lt;/h4&gt;&lt;h5 id=&quot;安装插件&quot;&gt;&lt;a href=&quot;#安装插件&quot; class=&quot;headerlink&quot; title=&quot;安装插件&quot;&gt;&lt;/a&gt;安装插件&lt;/h5&gt;&lt;p&gt;此教程的一键部署策略需要使用Jenkins的插件 —&amp;gt; Publish Over SSH&lt;br&gt;&lt;img src=&quot;/images/1456975825490.png&quot; alt=&quot;Alt text&quot;&gt;                                      &lt;img src=&quot;/images/1456975964950.png&quot; alt=&quot;Alt text&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/1456996723952.png&quot; alt=&quot;Alt text&quot;&gt;        &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/1456996768103.png&quot; alt=&quot;Alt text&quot;&gt;&lt;/p&gt;
&lt;p&gt;找到以后直接安装即可&lt;/p&gt;
&lt;h5 id=&quot;Publish-Over-SSH-插件的配置&quot;&gt;&lt;a href=&quot;#Publish-Over-SSH-插件的配置&quot; class=&quot;headerlink&quot; title=&quot;Publish Over SSH 插件的配置&quot;&gt;&lt;/a&gt;Publish Over SSH 插件的配置&lt;/h5&gt;&lt;p&gt;&lt;img src=&quot;/images/1456975825490.png&quot; alt=&quot;Alt text&quot;&gt;    &lt;img src=&quot;/images/1456996930391.png&quot; alt=&quot;Alt text&quot;&gt;&lt;/p&gt;
&lt;p&gt;找到有关Publish Over SSH的配置&lt;br&gt;&lt;img src=&quot;/images/1456997848813.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;细心的话我们会发现右下角有高级配置&lt;br&gt;&lt;img src=&quot;/images/1456998266634.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;要想知道配置是否正确，点一下Test Configuration 按钮即可&lt;/p&gt;
&lt;p&gt;搞定一大步，松一口气，ˊ&amp;gt;ˋ ˊ&amp;gt;ˋ ˊ&amp;gt;ˋ&lt;/p&gt;
&lt;h4 id=&quot;创建Jenkins-Item&quot;&gt;&lt;a href=&quot;#创建Jenkins-Item&quot; class=&quot;headerlink&quot; title=&quot;创建Jenkins Item&quot;&gt;&lt;/a&gt;创建Jenkins Item&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;/images/1457433656119.png&quot; alt=&quot;Alt text&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;配置item选项&quot;&gt;&lt;a href=&quot;#配置item选项&quot; class=&quot;headerlink&quot; title=&quot;配置item选项&quot;&gt;&lt;/a&gt;配置item选项&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;/images/1457496275535.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457502524081.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457502690373.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457503866033.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457503969298.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457504219941.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457577977732.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457578378162.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457578774188.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457578948357.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457580159775.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457580234059.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;我们首先看一下在jenkins服务器上此工程的路径及目标文件&lt;br&gt;&lt;img src=&quot;/images/1457580983501.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457581462821.png&quot; alt=&quot;Alt text&quot;&gt;&lt;/p&gt;
&lt;p&gt;以下是publish.sh 脚本的具体实现，此脚本可以停掉原先的tomcat服务，并且自动重启tomcat服务器，并且可以观察到启动日志&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#defined&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;TOMCAT_HOME=&lt;span class=&quot;string&quot;&gt;&quot;/data/tomcat&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;TOMCAT_PORT=8080&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;PROJECT=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#parm validate&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; [ &lt;span class=&quot;variable&quot;&gt;$#&lt;/span&gt; &lt;span class=&quot;_&quot;&gt;-lt&lt;/span&gt; 1 ]; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;you must use like this : ./publish.sh &amp;lt;projectname&amp;gt; [tomcat port] [tomcat home dir]&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;exit&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;fi&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; [ &lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$2&lt;/span&gt;&quot;&lt;/span&gt; != &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt; ]; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	TOMCAT_PORT=&lt;span class=&quot;variable&quot;&gt;$2&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;fi&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; [ &lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$3&lt;/span&gt;&quot;&lt;/span&gt; != &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt; ]; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	TOMCAT_HOME=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$3&lt;/span&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;fi&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#tomcat shutdown&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sh  &lt;span class=&quot;variable&quot;&gt;$TOMCAT_HOME&lt;/span&gt;/bin/shutdown.sh&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;tomcat shutdown&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;tomcat_pid=`lsof -n -P -t -i :&lt;span class=&quot;variable&quot;&gt;$TOMCAT_PORT&lt;/span&gt;`&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;current tomcat_pid: &quot;&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$tomcat_pid&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;dir=$(&lt;span class=&quot;built_in&quot;&gt;pwd&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;dir: &quot;&lt;/span&gt;  &lt;span class=&quot;variable&quot;&gt;$dir&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#public project&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;rm -rf /data/release/ROOT.war&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;rm -rf /data/release/ROOT&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;mv &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; /data/release/&lt;span class=&quot;variable&quot;&gt;$PROJECT&lt;/span&gt;*.war  /data/release/ROOT.war&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$TOMCAT_HOME&lt;/span&gt;&quot;&lt;/span&gt;/bin/startup.sh&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;tomcat is starting &quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;Dir=&lt;span class=&quot;string&quot;&gt;&quot;/data/logs/faceCheck.log&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;exec&lt;/span&gt; tail -fn 100 &lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$logDir&lt;/span&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;要注意的问题

&amp;gt;1.源文件的路径问题，明白当前位置和目的文件的位置才可以更好的配置路径  
&amp;gt;2.注意shell脚本执行时你所在的文件路径在root的家目录，所以在写命令的时候注意加上绝对路径，或者进入目标文件夹下面再去执行命令
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&quot;Only-One-Key&quot;&gt;&lt;a href=&quot;#Only-One-Key&quot; class=&quot;headerlink&quot; title=&quot;Only  One  Key&quot;&gt;&lt;/a&gt;Only  One  Key&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;/images/1457590559041.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457590728133.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457590813586.png&quot; alt=&quot;Alt text&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/1457590885392.png&quot; alt=&quot;Alt text&quot;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;工具只是工具，思想才是灵魂
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;在很久很久以前，就有人说到一键部署？什么？一键部署？什么鬼？听着好牛逼的样子，我也搞一搞，经过一段时间的折腾终于搞出来了，最后，我只想说，效率真高。&lt;/p&gt;
&lt;h2 id=&quot;&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; title=&quot;&quot;&gt;&lt;/a&gt;
    
    </summary>
    
      <category term="工具使用" scheme="http://ryan_qian.coding.me/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"/>
    
    
      <category term="jenkins" scheme="http://ryan_qian.coding.me/tags/jenkins/"/>
    
      <category term="一键部署" scheme="http://ryan_qian.coding.me/tags/%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://ryan_qian.coding.me/2016/07/05/hello-world/"/>
    <id>http://ryan_qian.coding.me/2016/07/05/hello-world/</id>
    <published>2016-07-05T08:14:37.000Z</published>
    <updated>2016-07-11T11:38:44.000Z</updated>
    
    <content type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#Create-a-new-post&quot; class=&quot;headerlink&quot; title=&quot;Create a new post&quot;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/writing.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Writing&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Run-server&quot;&gt;&lt;a href=&quot;#Run-server&quot; class=&quot;headerlink&quot; title=&quot;Run server&quot;&gt;&lt;/a&gt;Run server&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo server&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/server.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Server&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Generate-static-files&quot;&gt;&lt;a href=&quot;#Generate-static-files&quot; class=&quot;headerlink&quot; title=&quot;Generate static files&quot;&gt;&lt;/a&gt;Generate static files&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo generate&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/generating.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Generating&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Deploy-to-remote-sites&quot;&gt;&lt;a href=&quot;#Deploy-to-remote-sites&quot; class=&quot;headerlink&quot; title=&quot;Deploy to remote sites&quot;&gt;&lt;/a&gt;Deploy to remote sites&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo deploy&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/deployment.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Deployment&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
